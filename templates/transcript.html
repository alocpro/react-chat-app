{% extends "base.html" %}

{% block page_name %}Transcript{% endblock %}

{% block body_class %}page-transcript{% endblock %}

{% block page_js %}
    <script src="{{media_url}}/js/lib/underscore.js" type="text/javascript"></script>
    <script src="{{media_url}}/js/lib/backbone.js" type="text/javascript"></script>
    <script src="{{media_url}}/js/util/message.js" type="text/javascript"></script>
    <script src="{{media_url}}/js/models.js" type="text/javascript"></script>
    <script src="{{media_url}}/js/transcript.js" type="text/javascript"></script>
    <script type="text/javascript">
        var user = {{ user|json_encode|raw }};
        var room = {{ room|json_encode|raw }};
        var messages = {{ messages|json_encode|raw }};
        $(function() {
            var transcript = new TranscriptView({
                user: user,
                room: room,
                messages: messages
            });
        });
    </script>
{% endblock %}

{% block content %}
    <div id="transcript">
        <h1>Transcript &middot; {{ room.name }}</h1>
        <ul class="messages"></ul>
    </div>
{% endblock %}

{% block page_assets %}
    {% include "js-templates.html" %}
{% endblock %}